# ===================================================================
# CONFIGURAÇÕES DE SEGURANÇA - DATABASE LOCAL ENVIRONMENT
# ===================================================================
# Configurações adicionais de segurança para ambiente de produção

# ===================================================================
# CONFIGURAÇÕES DE SSL/TLS
# ===================================================================
# MySQL SSL
MYSQL_SSL_DISABLED=false
MYSQL_SSL_CERT_PATH=/etc/ssl/certs/mysql-cert.pem
MYSQL_SSL_KEY_PATH=/etc/ssl/private/mysql-key.pem
MYSQL_SSL_CA_PATH=/etc/ssl/certs/mysql-ca.pem

# PostgreSQL SSL
POSTGRES_SSL_MODE=require
POSTGRES_SSL_CERT_PATH=/etc/ssl/certs/postgres-cert.pem
POSTGRES_SSL_KEY_PATH=/etc/ssl/private/postgres-key.pem
POSTGRES_SSL_CA_PATH=/etc/ssl/certs/postgres-ca.pem

# SQL Server SSL
SQLSERVER_FORCE_ENCRYPTION=true
SQLSERVER_TRUST_SERVER_CERTIFICATE=false

# ===================================================================
# CONFIGURAÇÕES DE AUDITORIA
# ===================================================================
# Habilita logging de auditoria
ENABLE_AUDIT_LOG=true
AUDIT_LOG_LEVEL=INFO
AUDIT_LOG_RETENTION_DAYS=90

# MySQL Audit
MYSQL_GENERAL_LOG=ON
MYSQL_SLOW_QUERY_LOG=ON
MYSQL_LONG_QUERY_TIME=2

# PostgreSQL Audit
POSTGRES_LOG_STATEMENT=all
POSTGRES_LOG_DURATION=on
POSTGRES_LOG_CONNECTIONS=on
POSTGRES_LOG_DISCONNECTIONS=on

# SQL Server Audit
SQLSERVER_AUDIT_LEVEL=2
SQLSERVER_C2_AUDIT_MODE=1

# ===================================================================
# CONFIGURAÇÕES DE BACKUP SEGURO
# ===================================================================
# Configurações de criptografia para backups
BACKUP_ENCRYPTION=true
BACKUP_ENCRYPTION_KEY_PATH=/etc/keys/backup-key.pem
BACKUP_COMPRESSION_LEVEL=9

# Configurações de retenção segura
BACKUP_SECURE_DELETE=true
BACKUP_VERIFY_INTEGRITY=true

# ===================================================================
# CONFIGURAÇÕES DE REDE SEGURA
# ===================================================================
# Firewall interno
ENABLE_INTERNAL_FIREWALL=true
ALLOWED_HOSTS=localhost,127.0.0.1,::1

# Rate limiting
ENABLE_RATE_LIMITING=true
MAX_CONNECTIONS_PER_HOUR=1000
MAX_QUERIES_PER_HOUR=10000

# ===================================================================
# CONFIGURAÇÕES DE USUÁRIOS E PERMISSÕES
# ===================================================================
# Política de senhas
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_MIXED_CASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true
PASSWORD_EXPIRY_DAYS=90

# Configurações de privilégios mínimos
ENABLE_LEAST_PRIVILEGE=true
DEFAULT_USER_PRIVILEGES=SELECT,INSERT,UPDATE,DELETE

# ===================================================================
# CONFIGURAÇÕES DE MONITORAMENTO DE SEGURANÇA
# ===================================================================
# Detecção de anomalias
ENABLE_ANOMALY_DETECTION=true
FAILED_LOGIN_THRESHOLD=5
SUSPICIOUS_QUERY_THRESHOLD=100

# Alertas de segurança
SECURITY_ALERT_EMAIL=admin@example.com
SECURITY_ALERT_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ===================================================================
# CONFIGURAÇÕES DE COMPLIANCE
# ===================================================================
# GDPR/LGPD
ENABLE_DATA_RETENTION_POLICY=true
PERSONAL_DATA_RETENTION_DAYS=2555  # 7 anos
ENABLE_RIGHT_TO_BE_FORGOTTEN=true

# SOX/PCI-DSS
ENABLE_FINANCIAL_AUDIT_MODE=false
PCI_COMPLIANCE_MODE=false

# ===================================================================
# NOTAS DE SEGURANÇA
# ===================================================================
# 1. Em produção, sempre use senhas complexas e únicas
# 2. Configure SSL/TLS para todas as conexões
# 3. Implemente rotação regular de senhas
# 4. Monitore logs de auditoria regularmente
# 5. Mantenha backups criptografados e testados